<html>
  <head>
    <script src="jquery.min.js"></script>
    <script>
      var i = 0;

      setInterval(function() {
        chrome.browserAction.setBadgeText({text: ++i + ''});
        var popupView = getPopupView();
        if(popupView) { // Only exists when visible.
          popupView.addContent('This is what i is : ' + i);
        }
      }, 5000);

      function getPopupView() {
        return chrome.extension.getViews({type: 'popup'})[0];
      }
    </script>
  </head>
</html>
